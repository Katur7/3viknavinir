@model IEnumerable<_3viknavinir.Models.ViewModels.ListRequestViewModel>
@using Microsoft.AspNet.Identity
@{
	ViewBag.Title = "Beiðnir";
}
<div class="breadcrumb">
	<ul class="crumbs">
		<li class="crumb crumb-first">
			@Html.ActionLink("SÍÁT", "Index", "Home")
		</li>
		<li class="crumb crumb-last">
			<span class="crumb-seperator"> > </span>
			@Html.ActionLink("Beiðnir", "Request", "Request")
		</li>
	</ul>
</div>
<h2>@ViewBag.Title</h2>
@*Erla*@
<div id="searchBox">
	@using (Html.BeginForm("SearchRequestView", "Search", FormMethod.Get))
	{
		@Html.TextBox("SearchString")
		<input type="submit" value="Leita" class="btn btn-default" id="searchButton" />
	}
</div>
<form action="/ListRequest/NewRequest/" class="row">
	<input type="submit" value="" id="addRequestButton" />
	<div class="newTranslationButton"><span class="addTranslationText">@Html.ActionLink("Bæta við beiðni", "NewRequest", "ListRequest", new{@class="addRequestLine"})</span></div>
</form>
<!--<div class="newRequestButton">
	<form action="/ListRequest/NewRequest/"><input type="submit" value="" id="addRequestButton" /></form>
    @Html.ActionLink("Bæta við beiðni", "NewRequest", "ListRequest", new{@class="addRequestLine"})
</div>-->
<div class="requestTableDiv">
	<table id="RequestTable" class="table-striped">
		<thead>
			<tr class="requestRow">
				<th>Nafn</th>
				<th>Sett inn af</th>
				<th>Ártal</th>
				<th>IMDB ID</th>
				<th>Upvote</th>
			</tr>
		</thead>
		<tbody>
			@foreach (var item in Model)
			{
				<tr class="requestRow">
					<td>@Html.DisplayFor(modelItem => item.title)</td>
					<td>@Html.DisplayFor(modelItem => item.requestByName)</td>
					<td>@Html.DisplayFor(modelItem => item.yearOfRelease)</td>
					<td>@Html.DisplayFor(modelItem => item.IMDBId)</td>
                    <td>
                        @item.upvotes
                        @if (Request.IsAuthenticated)
                        {
                            <a href="#" class="upvoteRequest glyphicon glyphicon-thumbs-up glyphicon-position" id="@item.Id"></a>
                        }
                    </td>
                </tr>
			}
		</tbody>
	</table>
    <div class="pageCount">
        @for (int i = 0; i < ViewBag.pageCount; i++)
        {
            @Html.ActionLink((i + 1).ToString(), "Requests", "ListRequest", new { id = i }, null)
        }
    </div>
</div>